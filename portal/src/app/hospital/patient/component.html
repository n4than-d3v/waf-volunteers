@if (patient$ | async; as patient) { @if (patient.loading) {
<spinner />
} @else if (patient.error) {
<div class="error">Error occurred</div>
} @else if (patient.data) { @if (patient.data.status ===
PatientStatus.PendingInitialExam) {
<p>
  This patient has not yet been examined.<br />
  Please perform the intake exam in order to view and modify the full patient
  record.
</p>
<section>
  <h3>Admission</h3>
  <div class="row">
    <table>
      <tbody>
        <tr>
          <td>Reference</td>
          <td>{{ patient.data.reference }}</td>
        </tr>
        <tr>
          <td>Suspected species</td>
          <td>{{ patient.data.suspectedSpecies.description }}</td>
        </tr>
        <tr>
          <td>Initial location</td>
          <td>{{ patient.data.initialLocation.description }}</td>
        </tr>
        <tr>
          <td>Admission reason</td>
          <td>{{ formatAdmissionReasons(patient.data) }}</td>
        </tr>
        <tr>
          <td>Date admitted</td>
          <td>{{ patient.data.admitted | date: 'dd MMM yyyy HH:mm' }}</td>
        </tr>
      </tbody>
    </table>
    <table>
      <tbody>
        <tr>
          <td>Found at</td>
          <td>{{ patient.data.foundAt }}</td>
        </tr>
        @if (patient.data.admitter) {
        <tr>
          <td>Admitted by</td>
          <td>{{ patient.data.admitter.fullName }}</td>
        </tr>
        <tr>
          <td>Address</td>
          <td>{{ patient.data.admitter.address }}</td>
        </tr>
        <tr>
          <td>Email</td>
          <td>{{ patient.data.admitter.email }}</td>
        </tr>
        <tr>
          <td>Telephone</td>
          <td>{{ patient.data.admitter.telephone }}</td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</section>
<section>
  <h3>Intake exam</h3>
  <hospital-patient-exam [id]="patient.data.id"></hospital-patient-exam>
</section>
} } }
