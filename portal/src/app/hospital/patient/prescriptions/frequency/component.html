<div [formGroup]="formGroup" class="wrapper">
  <label for="{{ id }}">
    Frequency
    <span class="required">*</span>
  </label>
  <div class="flex">
    <select id="{{ id }}" formControlName="frequencyType">
      <option value=""></option>
      <option value="once">One time</option>
      <option value="rate">Rate (X times per Y)</option>
      <option value="interval">Interval (Every X Y)</option>
    </select>
    @if (formGroup.value.frequencyType === 'rate') {
    <div class="rate-split">
      <input
        id="{{ id }}"
        formControlName="frequencyX"
        (change)="update()"
        type="number"
      />
      <span>times per</span>
      <select formControlName="frequencyY" (change)="update()">
        <option>hour</option>
        <option>day</option>
        <option>week</option>
      </select>
    </div>
    } @else if (formGroup.value.frequencyType === 'interval') {
    <div class="interval-split">
      <span>Every</span>
      <input
        id="{{ id }}"
        formControlName="frequencyX"
        type="number"
        (change)="update()"
      />
      <select formControlName="frequencyY" (change)="update()">
        <option>hours</option>
        <option>days</option>
        <option>weeks</option>
      </select>
    </div>
    }
  </div>
  <input type="hidden" formControlName="frequency" />
</div>
